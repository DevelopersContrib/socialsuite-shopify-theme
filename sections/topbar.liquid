{% if section.settings.top_bar %}
  <div class="topbar">
    <div class="container">
      <div class="grid">
        {% if section.settings.top_bar %}
          {% if section.blocks.size > 0 %}
            {% for block in section.blocks %}
              {% case block.settings.width %}
                {% when '16%' %}
                  {%- assign block_width = 'one-sixth small--one-whole' -%}
                {% when '20%' %}
                  {%- assign block_width = 'one-fifth small--one-whole' -%}
                {% when '25%' %}
                  {%- assign block_width = 'one-quarter small--one-whole' -%}
                {% when '33%' %}
                  {%- assign block_width = 'one-third small--one-whole' -%}
                {% when '50%' %}
                  {%- assign block_width = 'two-quarters small--one-whole' -%}
                {% when '66%' %}
                  {%- assign block_width = 'two-thirds small--one-whole' -%}
                {% when '75%' %}
                  {%- assign block_width = 'three-quarters small--one-whole' -%}
                {% when '100%' %}
                  {%- assign block_width = 'one-whole' -%}
                  {%- assign image_size = '1090x1090' -%}
              {% endcase %}
              <div class="grid__item {{ block_width }} topbar__block--{{ block.type }} small--text-center" {{ block.shopify_attributes }}>
                <div class="topbar__block--inner">
                  {% case block.type %}
                    {% when 'html' %}
                        {% if block.settings.html != blank %}
                          {{ block.settings.html }}
                        {% endif %}
                    {% when 'menu' %}
                      {%- assign top_menus = block.settings.top_menus -%}
                      {% if linklists[top_menus].links.size > 0 %}
                        <ul>
                          {% for link in linklists[top_menus].links %}
                            <li>
                              <a href="{{ link.url }}">{{ link.title }}</a>
                            </li>
                          {% endfor %}
                        </ul>
                      {% endif %}
                  {% endcase %}
                </div>
              </div>
            {% endfor %}
          {% endif %}
        {% endif %}
      </div>
    </div>
  </div>
{% endif %}

{% schema %}
  {
    "name": "Top bar",
    "class": "topbar-section",
    "max_blocks": 3,
    "settings": [
      {
        "type": "checkbox",
        "id": "top_bar",
        "label": "Top bar",
        "default": true
      }
    ],
    "blocks": [
      {
        "type": "html",
        "name": "Custom HTML",
        "settings": [
          {
            "type": "html",
            "id": "html",
            "label": "HTML"
          },
          {
            "type": "select",
            "id": "width",
            "label": "Block width",
            "default": "50%",
            "options": [
              {
                "value": "16%",
                "label": "16%"
              },
              {
                "value": "20%",
                "label": "20%"
              },
              {
                "value": "25%",
                "label": "25%"
              },
              {
                "value": "33%",
                "label": "33%"
              },
              {
                "value": "50%",
                "label": "50%"
              },
              {
                "value": "66%",
                "label": "66%"
              },
              {
                "value": "75%",
                "label": "75%"
              },
              {
                "value": "100%",
                "label": "100%"
              }
            ]
          }
        ]
      },
      {
        "type": "menu",
        "name": "Custom Menu",
        "settings": [
          {
            "type": "link_list",
            "id": "top_menus",
            "default": "footer",
            "label": "Custom Menu"
          },
          {
            "type": "select",
            "id": "width",
            "label": "Block width",
            "default": "50%",
            "options": [
              {
                "value": "16%",
                "label": "16%"
              },
              {
                "value": "20%",
                "label": "20%"
              },
              {
                "value": "25%",
                "label": "25%"
              },
              {
                "value": "33%",
                "label": "33%"
              },
              {
                "value": "50%",
                "label": "50%"
              },
              {
                "value": "66%",
                "label": "66%"
              },
              {
                "value": "75%",
                "label": "75%"
              },
              {
                "value": "100%",
                "label": "100%"
              }
            ]
          }
        ]
      }
    ]
  }
{% endschema %}
